<!DOCTYPE html>
<html>
  <head>
    <title>Product Cart Demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <script>
      let cartItem = [];
      let allProducts = [
        {
          productId: 301,
          productName: "Laptop",
          productDescription: "A new Laptop",
          productCost: 40000,
          productImageUrl:
            "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8bGFwdG9wfGVufDB8fDB8fHww",
        },
        {
          productId: 302,
          productName: "Tablet",
          productDescription: "A new Tablet",
          productCost: 30000,
          productImageUrl:
            "https://images.unsplash.com/photo-1440337386388-f5fd01e85bd5?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8dGFibGV0fGVufDB8fDB8fHww",
        },
        {
          productId: 303,
          productName: "Smart Watch",
          productDescription: "A new Watch",
          productCost: 15000,
          productImageUrl:
            "https://images.unsplash.com/photo-1698729616509-060e8f58e6c0?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fHNtYXJ0JTIwd2F0Y2h8ZW58MHx8MHx8fDA%3D",
        },
        {
          productId: 304,
          productName: "Computer",
          productDescription: "A new Computer",
          productCost: 35000,
          productImageUrl:
            "https://media.istockphoto.com/id/1361595256/photo/front-view-of-a-workspace-modern-computer-blank-mockup-screen.webp?a=1&b=1&s=612x612&w=0&k=20&c=p5-duILKh64mStK1A54qM1q9Emd01rTlXLMqZaivp8Y=",
        },
        {
          productId: 305,
          productName: "Laptop",
          productDescription: "A refurbished Laptop",
          productCost: 30000,
          productImageUrl:
            "https://images.unsplash.com/photo-1484788984921-03950022c9ef?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8bGFwdG9wfGVufDB8fDB8fHww",
        },
        {
          productId: 306,
          productName: "Laptop",
          productDescription: "A new Laptop",
          productCost: 50000,
          productImageUrl:
            "https://plus.unsplash.com/premium_photo-1670274609267-202ec99f8620?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fGxhcHRvcHxlbnwwfHwwfHx8MA%3D%3D",
        },
      ];
      function displayProducts() {
        let content = "";
        for (let eachProduct of allProducts) {
          content += `<div class="col-lg-3 col-md-6 col-sm-12 my-1">
                        <div class="card" style="height:400px">
                            <img class="card-img-top" src="${eachProduct.productImageUrl}" height="150px" alt="Card image">
                            <div class="card-body">
                                <h4 class="card-title">${eachProduct.productName}</h4>
                                <h5 class="card-title">ID : ${eachProduct.productId}</h5>
                                <p class="card-text">Description : ${eachProduct.productDescription}</p>
                                <p class="card-text">Cost : ${eachProduct.productCost}</p>
                                <button type="button" class="btn btn-info" onclick="addToCart(${eachProduct.productId})">Add To Cart</button>
                            </div>
                        </div>
                    </div>
                     `;
        }
        document.getElementById("data").innerHTML = content;
      }

      function addToCart(pid) {
        console.log(pid);
        let fetchedProduct = allProducts.filter(
          (eachProd) => eachProd.productId == pid
        );
        console.log(fetchedProduct);
        cartItem.push(fetchedProduct[0]);
        displayCart();
      }

      function displayCart() {
        let content = `
                        <table class="table table-striped">
                            <thead class="table-dark">
                                <th>ID</th>
                                <th>NAME</th>
                                <th>PRICE</th>
                                <th></th>
                            </thead>
                            <tbody>
                        `;
        for (let eachItem of cartItem) {
          content += `
                            <tr>
                                <td>${eachItem.productId}</td>
                                <td>${eachItem.productName}</td>
                                <td>${eachItem.productCost}</td>
                                <td>
                                    <button type='button' class='btn btn-danger small' onclick="deleteCartItem(${eachItem.productId})">
                                        <span class="material-symbols-outlined">delete</span>
                                    </button>
                                </td>
                            </tr>
                        `;
        }
        content += "</tbody></table>";
        document.getElementById("items").innerHTML = content;
      }

      function deleteCartItem(pid) {
        cartItem = cartItem.filter((item) => item.productId != pid);
        displayCart();
      }
    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-sm bg-info navbar-dark">
      <div class="container-fluid">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="#">Active</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container">
      <div class="row mt-3">
        <div class="col-9">
          <h2>LIST OF PRODUCTS</h2>
          <div class="row" id="data"></div>
        </div>
        <div class="col-3">
          <h4>CART ITEMS</h4>
          <div id="items"></div>
        </div>
      </div>
    </div>
    <script>
      displayProducts();
    </script>
  </body>
</html>
